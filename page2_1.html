<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Earths WebGL Demo - Part 2 Plus</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nico+Moji&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap">
    <style>
        @font-face {
            font-family: 'Nico Moji';
            font-style: normal;
            font-weight: 400;
            src: url(//fonts.gstatic.com/ea/nicomoji/v1/NicoMoji-Regular.eot);
            src: url(//fonts.gstatic.com/ea/nicomoji/v1/NicoMoji-Regular.eot?#iefix) format('embedded-opentype'),
                url(//fonts.gstatic.com/ea/nicomoji/v1/NicoMoji-Regular.woff2) format('woff2'),
                url(//fonts.gstatic.com/ea/nicomoji/v1/NicoMoji-Regular.woff) format('woff'),
                url(//fonts.gstatic.com/ea/nicomoji/v1/NicoMoji-Regular.ttf) format('truetype');
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        html, body {
            padding: 0;
            margin: 0;
            height: 100%;
            overflow: hidden;
            background: black;
            font-family: 'Nico Moji', sans-serif;
        }

        .hidden {
            display: none;
        }

        svg {
            font-family: "Audiowide", cursive;
            position: absolute;
            width: 100%;
            height: 100%;
            filter: url(#screen-noise);
        }

        body:before {
            content: " ";
            position: absolute;
            z-index: 10;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            background-image: linear-gradient(
                    0deg,
                    transparent 50%,
                    rgba(0, 0, 0, 0.8) 10%
                ),
                linear-gradient(90deg, transparent 80%, rgba(0, 0, 0, 0.8) 10%);
            background-size: 3px 3px;
        }

        svg text {
            text-transform: uppercase;
            fill: red;
            font-size: 24px;
            filter: url(#Glow);
        }

        .crt-screen {
            width: 100%;
            height: 100%;
        }

    </style>
</head>

<body class="hidden">
    <div class="crt-screen hidden">
        <svg id="initial-svg" viewBox="0 0 300 200" xmlns='http://www.w3.org/2000/svg'>
            <defs>
                <filter id='screen-noise'>
                    <feTurbulence type='turbulence' result='noise' baseFrequency='0.2' numOctaves='1' seed='2' stitchTiles='noStitch' />
                    <feOffset dy="0" dx="0">
                        <animate attributeName="dy" values="0;-20" dur=".1s" begin="0s" repeatCount="indefinite" />
                        <animate attributeName="dx" values="0;20" dur=".3s" begin="0s" repeatCount="indefinite" />
                    </feOffset>
                    <feComponentTransfer>
                        <feFuncR type="linear" slope="1" intercept="-0.4" />
                        <feFuncG type="linear" slope="1" intercept="-0.4" />
                        <feFuncB type="linear" slope="1" intercept="-0.4" />
                    </feComponentTransfer>
                    <feBlend in="SourceGraphic" in2="noiseElement" mode="multiply" result="screen-content" />
                    <feTurbulence baseFrequency="0.01 1" result="waves" numOctaves="2" />
                    <feDisplacementMap in="screen-content" in2="waves" scale="2" xChannelSelector="R" yChannelSelector="R">
                        <animate attributeName="scale" values="0;10;0;50;5" dur="3s" begin="0s" repeatCount="indefinite" />
                    </feDisplacementMap>
                </filter>
                <filter id="Glow" x="-30%" y="-30%" width="160%" height="160%">
                    <feGaussianBlur stdDeviation="6 2" result="glow" />
                    <feMerge>
                        <feMergeNode in="glow" />
                        <feMergeNode in="SourceGraphic" />
                    </feMerge>
                </filter>
                <pattern id="Grid" x="0" y="0" width="0.2" height="0.2">
                    <rect x="0" y="0" width="100px" height="100px" stroke='blue' fill='transparent' stroke-width='2' />
                    <rect x="2" y="0" width="100px" height="100px" stroke='green' fill='transparent' stroke-width='2' />
                    <animateTransform attributeType="xml" attributeName="patternTransform" type="translate" values="0,0;60,40" dur="5s" begin="0s" repeatCount="indefinite" />
                </pattern>
            </defs>
            <rect height="100%" width="100%" fill="url(#Grid)" filter="url(#Glow)" />
            <text x="50%" y="50%" text-anchor="middle" dy="0.35em">
                <tspan x="50%" dy="0">I'M LIKE</tspan>
            </text>
        </svg>

        <!-- Hidden SVG that will be shown after 9 seconds -->
        <svg id="duplicate-svg" viewBox="0 0 300 200" xmlns='http://www.w3.org/2000/svg' class="hidden">
            <rect height="100%" width="100%" fill="url(#Grid)" filter="url(#Glow)" />
            <text x="50%" y="25%" dy=".35em" text-anchor="middle">
                <tspan x="50%" dy="-0.35em">SOME KIND OF</tspan>
                <tspan x="50%" dy="1.2em">SUPERNOVA</tspan>
            </text>
            <text x="50%" y="75%" dy=".35em" text-anchor="middle">
                <tspan x="50%" dy="-0.35em">SOME KIND OF</tspan>
                <tspan x="50%" dy="1.2em">SUPERNOVA</tspan>
            </text>
        </svg>
    </div>

    <!-- Audio 요소 추가 -->
    <audio id="background-music" src="src/i'mlike.wav" preload="auto"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.querySelector('body');
            body.classList.remove('hidden');

            body.addEventListener('click', () => {
                showPage4Content();
            }, { once: true });

            function showPage4Content() {
                const audio = document.getElementById('background-music');
                audio.play().catch(error => {
                    console.log('Audio playback failed:', error);
                });

                document.querySelector('.crt-screen').classList.remove('hidden');

                setTimeout(() => {
                    document.getElementById('initial-svg').classList.add('hidden');
                    document.getElementById('duplicate-svg').classList.remove('hidden');
                }, 3000);

                setTimeout(() => {
                    enablePageTransition();
                }, 2000); // 2초 후 클릭 유도
            }

            function enablePageTransition() {
                document.addEventListener('click', () => {
                    window.location.href = 'page5.html';
                }, { once: true });
            }
        });
    </script>
</body>
</html>
