<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazing News</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #f4f4f4;
            font-family: 'Times New Roman', Times, serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .newspaper {
            background: white;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 90%;
            height: 90vh;
            text-align: center;
            border: 1px solid #ddd;
            overflow-y: auto;
        }

        .headline {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .divider {
            width: 100%;
            height: 2px;
            background: black;
            margin: 10px 0;
        }

        .news-image {
            width: 100%;
            height: auto;
            aspect-ratio: auto 1 / 1;
            background-color: #e0e0e0;
            margin-bottom: 10px;
            position: relative;
            overflow: hidden;
            margin-left: 20px; /* 첫 번째 문단의 텍스트와 동일한 왼쪽 정렬 */
        }

        .content {
            font-size: 18px;
            text-align: left;
            line-height: 1.6;
            column-count: 2;
            column-gap: 40px;
            margin-bottom: 10px;
            margin-left: 20px; /* 왼쪽 여백 추가 */
            padding-right: 20px; /* 우측 여백 추가 */
        }

        #second-image {
            display: flex;
            margin-top: 30px;
            justify-content: space-between;
        }

        #second-image img {
            width: 45%;
            height: auto;
        }

        .right-column {
            width: 45%;
            font-size: 18px;
            line-height: 1.6;
            text-align: left; /* 텍스트 왼쪽 정렬 */
            padding-left: 20px; /* 좌측 여백 추가 */
            padding-right: 20px; /* 우측 여백 추가 */
        }

        .clickable {
            color: blue;
            text-decoration: underline;
            cursor: pointer;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

        /* 페이퍼 느낌을 살리기 위한 추가 CSS */
        .newspaper {
            background: #fdfcf0;
            border: 1px solid #e0e0e0;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }

        .headline {
            font-family: 'Georgia', serif;
            font-size: 36px;
            margin-bottom: 20px;
        }

        .divider {
            width: 100%;
            height: 1px;
            background: #999;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="newspaper">
        <div class="headline">BREAKING NEWS: Do Aliens Really Exist?</div>
        <div class="divider"></div>
        <div id="particle-container" class="news-image"></div>
        <div class="divider"></div>
        <div class="content">
            <p>In a shocking turn of events, an alien life form was discovered in the backyard of a suburban home. The alien, which appears to be friendly, has caused quite a stir among the residents.</p>
            <p>Witnesses say that the alien, standing at about 3 feet tall, communicated through a series of lights and sounds. Scientists are currently examining the creature and have yet to determine its origin.</p>
            <p>This discovery marks a historic moment in human history as it is the first confirmed sighting of extraterrestrial life on Earth. Stay tuned for more updates on this developing story.</p>
        </div>
        <div id="second-image" class="news-second-image">
            <img src="src/meteor.jpg" alt="Second Image">
            <div class="right-column">
                <p>Scientists have long speculated about the existence of extraterrestrial life. This recent discovery has fueled the ongoing debate and opened new possibilities for space exploration.</p>
                <p>The alien, found in a suburban backyard, has features unlike any known species on Earth. Its ability to communicate through lights and sounds suggests a level of intelligence that has stunned researchers.</p>
                <p><span class="clickable" onclick="nextPage()">As the world</span> watches with bated breath, experts are working tirelessly to uncover the origins and potential implications of this extraordinary find. The future of space exploration and our understanding of life itself may be forever changed.</p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/postprocessing/UnrealBloomPass.js"></script>

    <script>
        let scene, camera, renderer, controls, composer, particles;

        const imagePath = 'src/fullshot.jpg'; // 첫 번째 이미지 경로를 여기에 입력하세요
        const secondImagePath = 'src/meteor.jpg'; // 두 번째 이미지 경로를 여기에 입력하세요

        init();
        animate();

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
            camera.position.z = 500;

            renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.domElement.style.width = '100%';
            renderer.domElement.style.height = '100%';
            document.getElementById('particle-container').appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);

            // Load image and create particles
            loadParticleImage(imagePath, 'particle-container');

            window.addEventListener('resize', onWindowResize, false);
        }

        function loadParticleImage(path, containerId) {
            const loader = new THREE.TextureLoader();
            loader.load(path, function(texture) {
                const imgWidth = texture.image.width;
                const imgHeight = texture.image.height;
                const imgData = getImageData(texture.image);

                const aspectRatio = imgWidth / imgHeight;
                const container = document.getElementById(containerId);
                container.style.aspectRatio = `${imgWidth} / ${imgHeight}`;

                const geometry = new THREE.BufferGeometry();
                const vertices = [];
                const colors = [];
                const color = new THREE.Color();

                const pixelSize = 1; // Pixel size to create a dense grid

                for (let y = 0; y < imgHeight; y += pixelSize) {
                    for (let x = 0; x < imgWidth; x += pixelSize) {
                        const index = (y * imgWidth + x) * 4;
                        const r = imgData.data[index];
                        const g = imgData.data[index + 1];
                        const b = imgData.data[index + 2];
                        const a = imgData.data[index + 3];

                        if (a > 128) { // Transparency threshold
                            const vx = (x - imgWidth / 2) * pixelSize;
                            const vy = -(y - imgHeight / 2) * pixelSize;
                            const vz = 0;
                            vertices.push(vx, vy, vz);

                            color.setRGB(r / 255, g / 255, b / 255);
                            colors.push(color.r, color.g, color.b);
                        }
                    }
                }

                geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
                geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));

                const material = new THREE.PointsMaterial({ size: 1, vertexColors: true });
                particles = new THREE.Points(geometry, material);
                scene.add(particles);

                // Add bloom effect
                const renderScene = new THREE.RenderPass(scene, camera);
                const bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 2.0, 0.6, 0.1);
                bloomPass.threshold = 0.2;
                bloomPass.strength = 2.5;
                bloomPass.radius = 1.0;

                composer = new THREE.EffectComposer(renderer);
                composer.addPass(renderScene);
                composer.addPass(bloomPass);
            });

            const container = document.getElementById(containerId);
            container.appendChild(renderer.domElement);
        }

        function loadStaticImage(path, containerId) {
            const img = document.createElement('img');
            img.src = path;
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';

            const container = document.getElementById(containerId);
            container.appendChild(img);
        }

        function getImageData(image) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = image.width;
            canvas.height = image.height;
            context.drawImage(image, 0, 0);
            return context.getImageData(0, 0, image.width, image.height);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            if (composer) {
                composer.setSize(window.innerWidth, window.innerHeight);
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            if (composer) {
                composer.render();
            } else {
                renderer.render(scene, camera);
            }
        }

        function nextPage() {
            window.location.href = 'nextpage.html'; // 이동할 페이지 경로를 여기에 입력하세요
        }
    </script>
</body>
</html>
